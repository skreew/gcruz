<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gabriel Alves - Automação e Soluções Digitais</title>
    
    <!-- SEO e Metadados Sociais -->
    <meta name="description" content="Especialista em automação de processos e soluções digitais que otimizam operações, reduzem custos e maximizam resultados.">
    <meta property="og:title" content="Gabriel Alves - Automação e Soluções Digitais">
    <meta property="og:description" content="Transformo processos manuais em sistemas inteligentes que economizam tempo e recursos.">
    <meta property="og:image" content="https://i.ibb.co/FbyNw76/foto-3x4-curriculo.png">
    <meta property="og:url" content="URL_DO_SEU_SITE_AQUI">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Otimização de Fontes e Recursos -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
    <noscript><link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet"></noscript>
    <link rel="preconnect" href="https://wa.me">
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Gabriel Alves",
      "jobTitle": "Especialista em Automação e Soluções Digitais",
      "url": "URL_DO_SEU_SITE_AQUI",
      "image": "https://i.ibb.co/FbyNw76/foto-3x4-curriculo.png",
      "sameAs": []
    }
    </script>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0a0a0a;
            color: #F5F5F5;
            overflow-x: hidden;
        }

        :root {
            --cor-amarelo: #FFD700;
            --cor-preto: #0a0a0a;
            --cor-branco: #F5F5F5;
            --cor-cinza-claro: #1a1a1a;
        }
        
        #bg-canvas {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
        }
        
        #main-header.scrolled {
            box-shadow: 0 5px 20px rgba(0,0,0,0.5);
        }

        .glass-effect {
            background: rgba(16, 16, 16, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: background 0.5s ease, box-shadow 0.5s ease;
        }
        
        .hero-cta {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .project-card {
            position: relative;
            overflow: hidden;
            transition: transform 0.4s ease, box-shadow 0.4s ease;
        }
        .project-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0;
            width: 200%; height: 100%;
            background: conic-gradient(from 180deg at 50% 50%, var(--cor-amarelo), #DA70D6, #00FFFF, var(--cor-amarelo));
            transition: transform 1s ease;
            transform: translateX(-100%) rotate(0deg);
            z-index: 1;
        }
        .project-card.animate-border::before,
        .project-card:hover::before {
            transform: translateX(0%) rotate(360deg);
        }
        .project-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 30px rgba(0,0,0,0.4);
        }
        .project-card-content {
            position: relative;
            z-index: 2;
            background-color: var(--cor-cinza-claro);
            margin: 1px;
            border-radius: 1.45rem;
            height: calc(100% - 2px);
            width: calc(100% - 2px);
        }

        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--cor-preto); }
        ::-webkit-scrollbar-thumb {
            background-color: var(--cor-amarelo);
            border-radius: 10px;
        }

        .custom-cursor { display: none; }
        @media (hover: hover) and (pointer: fine) {
            body { cursor: none; }
            .custom-cursor {
                display: block;
                position: fixed;
                top: 0; left: 0;
                width: 24px; height: 24px;
                border: 2px solid var(--cor-amarelo);
                border-radius: 50%;
                pointer-events: none;
                transform: translate(-50%, -50%);
                transition: width 0.3s ease, height 0.3s ease, background-color 0.3s ease, transform 0.1s ease-out;
                z-index: 9999;
            }
            .custom-cursor.grow {
                width: 50px;
                height: 50px;
                background-color: rgba(255, 215, 0, 0.2);
            }
        }

        @media (max-width: 1023px) {
            .horizontal-scroll-wrapper {
                overflow-x: auto;
                scroll-snap-type: x mandatory;
                scrollbar-width: none; /* Firefox */
            }
            .horizontal-scroll-wrapper::-webkit-scrollbar {
                display: none; /* Safari e Chrome */
            }
            .panel {
                scroll-snap-align: center;
                min-width: 85vw;
            }
        }
        
        @media (min-width: 1024px) {
            #portfolio-section-container {
                overflow: hidden;
                height: 100vh;
                position: relative;
            }
            .horizontal-scroll-wrapper {
                width: 500vw;
                height: 100vh;
                display: flex;
                flex-wrap: nowrap;
            }
            .panel {
                width: 100vw;
                height: 100vh;
                padding: 0 5%;
            }
            .scroll-indicators {
                position: absolute;
                bottom: 30px;
                left: 50%;
                transform: translateX(-50%);
                display: flex;
                gap: 12px;
                z-index: 10;
            }
            .scroll-indicators span {
                width: 10px;
                height: 10px;
                background-color: rgba(255, 255, 255, 0.3);
                border-radius: 50%;
                transition: background-color 0.3s ease, transform 0.3s ease;
                cursor: pointer;
            }
            .scroll-indicators span.active {
                background-color: var(--cor-amarelo);
                transform: scale(1.3);
            }
        }

        .about-image-container img {
            transition: transform 0.5s ease;
        }
        .about-image-container:hover img {
            transform: scale(1.03);
        }

        /* Melhorias de Acessibilidade */
        .skip-link {
            position: absolute;
            left: -9999px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
            z-index: -999;
        }
        .skip-link:focus, .skip-link:active {
            position: static;
            width: auto;
            height: auto;
            overflow: visible;
            z-index: 9999;
            background: var(--cor-amarelo);
            color: var(--cor-preto);
            padding: 10px;
            border-radius: 8px;
            margin: 10px;
        }

        .keyboard-nav :focus-visible {
            outline: 2px solid var(--cor-amarelo);
            outline-offset: 3px;
            border-radius: 4px;
        }

        nav a.active {
            color: var(--cor-amarelo);
            position: relative;
        }
        nav a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--cor-amarelo);
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            #bg-canvas { display: none; }
        }
    </style>
</head>
<body class="antialiased">

    <noscript>
        <div class="bg-yellow-400 text-black p-4 text-center fixed top-0 w-full z-[9999]">
            Este site funciona melhor com JavaScript habilitado.
        </div>
    </noscript>

    <a href="#main-content" class="skip-link">Pular para o conteúdo principal</a>

    <canvas id="bg-canvas" class="js-dependent"></canvas>
    <div class="custom-cursor js-dependent"></div>

    <!-- Header -->
    <header id="main-header" class="fixed top-0 left-0 w-full p-6 z-50">
        <div class="container mx-auto flex justify-between items-center glass-effect rounded-full py-3 px-8">
            <a href="#" class="text-2xl font-bold text-white">Gabriel Alves<span class="text-yellow-400">.</span></a>
            
            <nav id="main-nav" class="hidden md:flex space-x-8">
                <a href="#services" class="text-white hover:text-yellow-400 transition-colors duration-300">Soluções</a>
                <a href="#portfolio" class="text-white hover:text-yellow-400 transition-colors duration-300">Projetos</a>
                <a href="#about" class="text-white hover:text-yellow-400 transition-colors duration-300">Sobre</a>
                <a href="#contact" class="text-white hover:text-yellow-400 transition-colors duration-300">Contato</a>
            </nav>

            <button id="hamburger-btn" aria-label="Abrir menu" aria-expanded="false" class="md:hidden z-[101] text-white">
                <i data-lucide="menu" class="w-8 h-8"></i>
            </button>
        </div>
    </header>

    <!-- Menu Mobile Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-black/80 backdrop-blur-xl z-[100] flex-col items-center justify-center space-y-8 text-2xl text-center hidden" role="dialog" aria-modal="true">
        <a href="#services" class="mobile-link text-white">Soluções</a>
        <a href="#portfolio" class="mobile-link text-white">Projetos</a>
        <a href="#about" class="mobile-link text-white">Sobre</a>
        <a href="#contact" class="mobile-link text-white">Contato</a>
    </div>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Seção Hero -->
        <section id="hero" class="h-screen flex items-center justify-center text-center relative overflow-hidden">
            <div class="container mx-auto px-6 z-10">
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold text-white leading-tight hero-line">
                    Operações mais inteligentes.
                </h1>
                <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold text-yellow-400 leading-tight hero-line mt-2">
                    Resultados multiplicados.
                </h1>
                <p class="mt-8 max-w-3xl mx-auto text-lg md:text-xl text-gray-300 hero-subtitle">
                    Automações que transformam processos manuais em eficiência. Economize tempo e recursos para focar no crescimento.
                </p>
                <a href="#contact" aria-label="Otimizar meu negócio" class="mt-12 inline-block bg-yellow-400 text-black font-bold py-3 px-8 rounded-full text-lg hero-cta">
                    OTIMIZAR MEU NEGÓCIO
                </a>
            </div>
        </section>

        <!-- Seção Serviços -->
        <section id="services" class="py-20">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-16">Foco em <span class="text-yellow-400">Automação de Processos</span></h2>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-10">
                    <article class="service-card glass-effect rounded-3xl p-8 lg:col-span-2 transition-transform duration-300 hover:-translate-y-2">
                        <div class="mb-4"><i data-lucide="zap" class="w-12 h-12 text-yellow-400"></i></div>
                        <h3 class="text-2xl font-bold mb-3">Automação com Google Apps Script</h3>
                        <p class="text-gray-400">Automações personalizadas para Google Workspace que eliminam tarefas repetitivas.</p>
                    </article>
                    <article class="service-card glass-effect rounded-3xl p-8 transition-transform duration-300 hover:-translate-y-2">
                         <div class="mb-4"><i data-lucide="shopping-cart" class="w-12 h-12 text-yellow-400"></i></div>
                        <h3 class="text-2xl font-bold mb-3">Otimização de E-commerce</h3>
                        <p class="text-gray-400">Soluções completas para aumentar conversões e fidelizar clientes.</p>
                    </article>
                </div>
            </div>
        </section>

        <!-- Seção Portfólio -->
        <section id="portfolio" class="bg-transparent">
            <div class="container mx-auto px-6 pt-20 pb-10 text-center">
                 <h2 class="text-4xl md:text-5xl font-bold">Resultados Reais: <span class="text-yellow-400">Cases de Sucesso</span></h2>
            </div>
            
            <div id="portfolio-section-container" class="relative">
                <div class="horizontal-scroll-wrapper flex">
                    <!-- Painel 1 -->
                    <article class="panel">
                        <div class="w-full max-w-5xl rounded-3xl project-card">
                            <div class="p-8 md:p-12 flex flex-col md:flex-row items-center gap-10 project-card-content">
                                <div class="project-text-content text-center md:text-left md:w-2/3">
                                    <span class="font-semibold text-yellow-400">Posto Ipiranga/PR</span>
                                    <h3 class="text-3xl md:text-4xl font-bold my-2">Automação de Notificações</h3>
                                    <p class="text-gray-300">Sistema desenvolvido com Google Apps Script que automatizou a comunicação de notificações, reduzindo o tempo de processamento de horas para segundos e cortando custos operacionais.</p>
                                </div>
                                <div class="project-number-content md:w-1/3 text-center mt-6 md:mt-0">
                                    <p class="counter-up text-6xl md:text-8xl font-extrabold text-yellow-400" data-value="-90">-90%</p>
                                    <p class="text-lg font-semibold">em Custos Operacionais</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <!-- Painel 2 -->
                    <article class="panel">
                        <div class="w-full max-w-5xl rounded-3xl project-card">
                           <div class="p-8 md:p-12 flex flex-col md:flex-row items-center gap-10 project-card-content">
                                <div class="project-text-content text-center md:text-left md:w-2/3">
                                    <span class="font-semibold text-yellow-400">Plataformas Web</span>
                                    <h3 class="text-3xl md:text-4xl font-bold my-2">Presença Digital Otimizada</h3>
                                    <p class="text-gray-300">Desenvolvimento de sites responsivos e focados em SEO para <a href="http://hokenmacapa.com.br/" target="_blank" rel="noopener" class="text-yellow-400 hover:underline">Hoken</a> e outros, aumentando a visibilidade e o tráfego.</p>
                                </div>
                                <div class="project-number-content md:w-1/3 text-center mt-6 md:mt-0">
                                    <p class="counter-up text-6xl md:text-8xl font-extrabold text-yellow-400" data-value="20">+20%</p>
                                    <p class="text-lg font-semibold">em Tráfego Orgânico</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <!-- Painel 3 -->
                    <article class="panel">
                        <div class="w-full max-w-5xl rounded-3xl project-card">
                           <div class="p-8 md:p-12 flex flex-col md:flex-row items-center gap-10 project-card-content">
                                <div class="project-text-content text-center md:text-left md:w-2/3">
                                    <span class="font-semibold text-yellow-400">Painel de Gestão</span>
                                    <h3 class="text-3xl md:text-4xl font-bold my-2">Fim da Desorganização</h3>
                                    <p class="text-gray-300">Dashboard interativo para centralizar informações e simplificar a organização de eventos e comunicados.</p>
                                </div>
                                <div class="project-number-content md:w-1/3 text-center mt-6 md:mt-0">
                                    <p class="text-5xl md:text-6xl font-extrabold text-yellow-400">Gestão Simplificada</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <!-- Painel 4 -->
                     <article class="panel">
                        <div class="w-full max-w-5xl rounded-3xl project-card">
                           <div class="p-8 md:p-12 flex flex-col md:flex-row items-center gap-10 project-card-content">
                                <div class="project-text-content text-center md:text-left md:w-2/3">
                                    <span class="font-semibold text-yellow-400">Geek Store/Bolívia</span>
                                    <h3 class="text-3xl md:text-4xl font-bold my-2">Vendas em Piloto Automático</h3>
                                    <p class="text-gray-300">Criação de um motor de vendas com marketing direcionado e automações para impulsionar os resultados de forma consistente.</p>
                                </div>
                                <div class="project-number-content md:w-1/3 text-center mt-6 md:mt-0">
                                    <p class="counter-up text-6xl md:text-8xl font-extrabold text-yellow-400" data-value="25">+25%</p>
                                    <p class="text-lg font-semibold">em Vendas Online</p>
                                </div>
                            </div>
                        </div>
                    </article>
                    <!-- Painel 5 -->
                    <article class="panel">
                        <div class="w-full max-w-5xl rounded-3xl project-card">
                           <div class="p-8 md:p-12 flex flex-col md:flex-row items-center gap-10 project-card-content">
                                <div class="project-text-content text-center md:text-left md:w-2/3">
                                    <span class="font-semibold text-yellow-400">Brazil Tribal</span>
                                    <h3 class="text-3xl md:text-4xl font-bold my-2">Experiência que Converte</h3>
                                    <p class="text-gray-300">Redesign focado no usuário que aumentou vendas, satisfação e fidelização dos clientes do e-commerce.</p>
                                </div>
                                <div class="project-number-content md:w-1/3 text-center mt-6 md:mt-0">
                                    <p class="counter-up text-6xl md:text-8xl font-extrabold text-yellow-400" data-value="18">+18%</p>
                                    <p class="text-lg font-semibold">em Vendas Mensais</p>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
                <div class="scroll-indicators"></div>
                <div class="flex justify-center mt-8 md:hidden">
                    <button id="prev-project" aria-label="Projeto anterior" class="p-2 mx-2 text-white"><i data-lucide="arrow-left" class="w-6 h-6"></i></button>
                    <button id="next-project" aria-label="Próximo projeto" class="p-2 mx-2 text-white"><i data-lucide="arrow-right" class="w-6 h-6"></i></button>
                </div>
            </div>
        </section>

        <!-- Seção Tech Stack -->
        <section id="tech" class="py-20">
            <div class="container mx-auto px-6">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-16">Minhas <span class="text-yellow-400">ferramentas</span> de trabalho</h2>
                <div class="flex flex-wrap justify-center items-center gap-x-8 gap-y-8 md:gap-x-12">
                     <div class="tech-logo flex flex-col items-center gap-2 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 cursor-pointer" aria-label="Google Apps Script"><i data-lucide="webhook" class="w-8 h-8"></i><span>GAS</span></div>
                     <div class="tech-logo flex flex-col items-center gap-2 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 cursor-pointer" aria-label="Python"><i data-lucide="code-2" class="w-8 h-8"></i><span>Python</span></div>
                     <div class="tech-logo flex flex-col items-center gap-2 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 cursor-pointer" aria-label="JavaScript"><i data-lucide="braces" class="w-8 h-8"></i><span>JavaScript</span></div>
                     <div class="tech-logo flex flex-col items-center gap-2 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 cursor-pointer" aria-label="WordPress"><i data-lucide="wordpress" class="w-8 h-8"></i><span>WordPress</span></div>
                     <div class="tech-logo flex flex-col items-center gap-2 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 cursor-pointer" aria-label="APIs RESTful"><i data-lucide="binary" class="w-8 h-8"></i><span>APIs RESTful</span></div>
                     <div class="tech-logo flex flex-col items-center gap-2 text-gray-400 hover:text-white transition-all duration-300 hover:scale-110 cursor-pointer" aria-label="SEO"><i data-lucide="search" class="w-8 h-8"></i><span>SEO</span></div>
                </div>
            </div>
        </section>
        
        <!-- Seção Sobre -->
        <section id="about" class="py-20">
            <div class="container mx-auto px-6">
                <div class="flex flex-col md:flex-row items-center gap-10 md:gap-16 glass-effect p-10 rounded-3xl">
                    <div class="md:w-1/2 about-image-container">
                        <picture>
                            <source srcset="https://i.ibb.co/FbyNw76/foto-3x4-curriculo.png" type="image/png">
                            <img src="https://i.ibb.co/FbyNw76/foto-3x4-curriculo.png" alt="Gabriel Alves, especialista em soluções digitais" class="rounded-full w-64 h-64 md:w-80 md:h-80 object-cover border-4 border-yellow-400 shadow-lg mx-auto" loading="lazy" decoding="async">
                        </picture>
                    </div>
                    <div class="md:w-1/2 text-center md:text-left about-text-container">
                        <h2 class="text-4xl md:text-5xl font-bold">Quem está <span class="text-yellow-400">por trás do código</span></h2>
                        <p class="mt-6 text-lg text-gray-300">Com 5+ anos de experiência em automação e desenvolvimento web, já ajudei mais de 30 empresas a otimizar processos e aumentar resultados. Minha abordagem combina soluções técnicas com foco estratégico nos objetivos de negócio.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Seção Contato -->
        <section id="contact" class="py-20">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl md:text-5xl font-bold">Entre em contato <span class="text-yellow-400">já</span></h2>
                <p class="mt-4 text-lg text-gray-300 max-w-2xl mx-auto">Vamos conversar sobre seu desafio, sem compromisso. Estou aqui para ouvir e, juntos, encontrarmos o melhor caminho para o seu negócio.</p>
                <a href="https://wa.me/5511981064061?text=Ol%C3%A1%2C%20Gabriel!%20Vi%20seu%20site%20e%20gostaria%20de%20conversar%20sobre%20um%20projeto." target="_blank" rel="noopener" class="mt-12 inline-block bg-yellow-400 text-black font-bold py-4 px-10 rounded-full text-xl transition-transform duration-300 hover:scale-105 hover:shadow-lg hover:shadow-yellow-400/20">
                    <span class="flex items-center justify-center gap-2">
                        <i data-lucide="send"></i>
                        Falar no WhatsApp
                    </span>
                </a>
                <button id="toggle-form" class="text-yellow-400 underline mt-8">Prefere enviar uma mensagem direta?</button>
                <div id="email-form" class="mt-8 max-w-md mx-auto hidden">
                    <form action="https://formspree.io/f/YOUR_FORM_ID" method="POST" class="space-y-4">
                        <input type="text" name="name" placeholder="Nome" required class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:ring-2 focus:ring-yellow-400 outline-none">
                        <input type="email" name="email" placeholder="E-mail" required class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 focus:ring-2 focus:ring-yellow-400 outline-none">
                        <textarea name="message" placeholder="Mensagem" required class="w-full p-3 rounded-lg bg-gray-800 border border-gray-700 h-32 outline-none focus:ring-2 focus:ring-yellow-400"></textarea>
                        <button type="submit" class="bg-yellow-400 text-black font-bold py-3 px-6 rounded-lg">Enviar Mensagem</button>
                    </form>
                </div>
            </div>
        </section>
    </main>

    <footer class="py-10 text-center text-gray-500">
        <div class="flex justify-center space-x-6 mb-4">
            <a href="#" class="hover:text-yellow-400">Início</a>
            <a href="#" class="hover:text-yellow-400">Política de Privacidade</a>
            <a href="#" class="hover:text-yellow-400">Termos de Uso</a>
        </div>
        <p>&copy; 2025 Gabriel Alves. Todos os direitos reservados.</p>
    </footer>

    <!-- Bibliotecas de Animação -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js" defer></script>

    <script>
        window.addEventListener('error', e => {
            console.error('Erro capturado:', e.error);
        });

        document.addEventListener('DOMContentLoaded', function() {
            try {
                // --- Configurações Iniciais e Otimizações ---
                lucide.createIcons();
                ScrollTrigger.config({ limitCallbacks: true, ignoreMobileResize: true });

                document.addEventListener('keyup', e => {
                    if (e.key === 'Tab') document.documentElement.classList.add('keyboard-nav');
                });
                
                // --- Header com sombra no scroll ---
                const header = document.getElementById('main-header');
                window.addEventListener('scroll', () => {
                    header.classList.toggle('scrolled', window.scrollY > 50);
                });

                // --- Animação 3D do Fundo (Otimizada para Mobile) ---
                const isMobile = window.innerWidth < 768;
                if (!isMobile && !window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                    const scene = new THREE.Scene();
                    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                    const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('bg-canvas'), alpha: true, antialias: true });
                    renderer.setSize(window.innerWidth, window.innerHeight);
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                    const particlesCount = 5000;
                    const positions = new Float32Array(particlesCount * 3);
                    for (let i = 0; i < particlesCount * 3; i++) {
                        positions[i] = (Math.random() - 0.5) * 15;
                    }
                    const particlesGeometry = new THREE.BufferGeometry();
                    particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
                    const particlesMaterial = new THREE.PointsMaterial({ color: 0xaaaaaa, size: 0.005, transparent: true, blending: THREE.AdditiveBlending });
                    const particleSystem = new THREE.Points(particlesGeometry, particlesMaterial);
                    scene.add(particleSystem);
                    camera.position.z = 5;

                    const mouse = new THREE.Vector2();
                    window.addEventListener('mousemove', (event) => {
                        mouse.x = (event.clientX / window.innerWidth) * 2 - 1;
                        mouse.y = -(event.clientY / window.innerHeight) * 2 + 1;
                    });

                    function animate() {
                        requestAnimationFrame(animate);
                        particleSystem.rotation.y += 0.0002;
                        camera.position.x += (mouse.x * 0.2 - camera.position.x) * 0.01;
                        camera.position.y += (mouse.y * 0.2 - camera.position.y) * 0.01;
                        camera.lookAt(scene.position);
                        renderer.render(scene, camera);
                    }
                    animate();
                
                    window.addEventListener('resize', () => {
                        camera.aspect = window.innerWidth / window.innerHeight;
                        camera.updateProjectionMatrix();
                        renderer.setSize(window.innerWidth, window.innerHeight);
                    });
                } else {
                    document.getElementById('bg-canvas').style.display = 'none';
                }
                
                // --- Menu Mobile ---
                const hamburgerBtn = document.getElementById('hamburger-btn');
                const mobileMenu = document.getElementById('mobile-menu');
                
                const toggleMenu = (isOpen) => {
                    const isNowOpen = typeof isOpen === 'boolean' ? isOpen : mobileMenu.classList.contains('hidden');
                    mobileMenu.classList.toggle('hidden', !isNowOpen);
                    mobileMenu.classList.toggle('flex', isNowOpen);
                    hamburgerBtn.setAttribute('aria-expanded', isNowOpen);
                    hamburgerBtn.innerHTML = isNowOpen ? `<i data-lucide="x" class="w-8 h-8"></i>` : `<i data-lucide="menu" class="w-8 h-8"></i>`;
                    lucide.createIcons();
                    if (!isNowOpen) hamburgerBtn.focus();
                };

                hamburgerBtn.addEventListener('click', () => toggleMenu());
                document.querySelectorAll('.mobile-link').forEach(link => link.addEventListener('click', () => toggleMenu(false)));
                document.addEventListener('click', (e) => {
                    if (!mobileMenu.classList.contains('hidden') && !mobileMenu.contains(e.target) && !hamburgerBtn.contains(e.target)) {
                        toggleMenu(false);
                    }
                });

                // --- Animações Coreografadas com GSAP ---
                gsap.registerPlugin(ScrollTrigger);
                gsap.from("#main-header", { y: -100, opacity: 0, duration: 1, ease: 'power3.out', delay: 0.5 });
                
                const heroTl = gsap.timeline({ defaults: { ease: 'power3.out', duration: 1 } });
                heroTl.from('.hero-line', { y: 100, opacity: 0, stagger: 0.2, delay: 1 })
                      .from('.hero-subtitle', { y: 20, opacity: 0 }, "-=0.5")
                      .from('.hero-cta', { scale: 0.9, opacity: 0 }, "-=0.7");
                
                gsap.utils.toArray('section h2, .service-card, #contact p, #contact a, #contact button').forEach(elem => {
                    gsap.from(elem, {
                        opacity: 0, y: 50, duration: 1, ease: 'power3.out',
                        scrollTrigger: { trigger: elem, start: 'top 85%', toggleActions: 'play none none none' }
                    });
                });

                // Animação da seção Sobre
                ScrollTrigger.create({
                    trigger: "#about",
                    start: "top 70%",
                    onEnter: () => {
                        gsap.from(".about-image-container", { scale: 0.9, opacity: 0, duration: 1, ease: 'power3.out' });
                        gsap.from(".about-text-container", { x: 50, opacity: 0, duration: 1, ease: 'power3.out', delay: 0.2 });
                    },
                    once: true
                });
                
                // --- Animação e Navegação do Portfólio ---
                const panels = gsap.utils.toArray(".panel");
                const indicatorsContainer = document.querySelector('.scroll-indicators');
                if (indicatorsContainer) {
                    panels.forEach(() => indicatorsContainer.appendChild(document.createElement('span')));
                    const indicators = gsap.utils.toArray('.scroll-indicators span');
                    indicators[0]?.classList.add('active');
                }
                
                ScrollTrigger.matchMedia({
                    "(min-width: 1024px)": function() {
                        let scrollTween = gsap.to(panels, {
                            xPercent: -100 * (panels.length - 1),
                            ease: "none",
                            scrollTrigger: {
                                trigger: "#portfolio-section-container",
                                pin: true,
                                scrub: 1,
                                snap: 1 / (panels.length - 1),
                                end: () => "+=" + document.querySelector(".horizontal-scroll-wrapper").offsetWidth,
                                onUpdate: self => {
                                    const progress = Math.round(self.progress * (panels.length - 1));
                                    document.querySelectorAll('.scroll-indicators span').forEach((ind, i) => ind.classList.toggle('active', i === progress));
                                }
                            }
                        });
                        document.querySelectorAll('.scroll-indicators span').forEach((indicator, i) => {
                            indicator.addEventListener('click', () => {
                                let newProgress = i / (panels.length - 1);
                                let scrollPos = scrollTween.scrollTrigger.start + (scrollTween.scrollTrigger.end - scrollTween.scrollTrigger.start) * newProgress;
                                gsap.to(window, { scrollTo: scrollPos, duration: 1, ease: 'power2.inOut' });
                            });
                        });
                    },
                    "(max-width: 1023px)": function() {
                        const wrapper = document.querySelector('.horizontal-scroll-wrapper');
                        const prevBtn = document.getElementById('prev-project');
                        const nextBtn = document.getElementById('next-project');

                        const scrollToAction = (direction) => {
                            const panelWidth = wrapper.querySelector('.panel').offsetWidth;
                            wrapper.scrollBy({ left: panelWidth * direction, behavior: 'smooth' });
                        };
                        
                        prevBtn.addEventListener('click', () => scrollToAction(-1));
                        nextBtn.addEventListener('click', () => scrollToAction(1));
                    }
                });
                
                panels.forEach((panel) => {
                    const counter = panel.querySelector('.counter-up');
                    if (counter) {
                        ScrollTrigger.create({
                            trigger: counter,
                            start: "top 80%",
                            once: true,
                            onEnter: () => {
                                const target = { val: 0 };
                                const endValue = parseFloat(counter.dataset.value);
                                const prefix = endValue > 0 ? '+' : '';
                                const suffix = '%';
                                gsap.to(target, {
                                    val: endValue,
                                    duration: 2,
                                    ease: 'power3.out',
                                    onUpdate: () => {
                                        counter.textContent = prefix + Math.round(target.val) + suffix;
                                    }
                                });
                            }
                        });
                    }
                });
                
                // --- Navegação Ativa ---
                gsap.utils.toArray("#main-nav a").forEach(link => {
                    const section = document.querySelector(link.getAttribute("href"));
                    ScrollTrigger.create({
                        trigger: section,
                        start: "top center",
                        end: "bottom center",
                        onToggle: self => self.isActive && document.querySelectorAll("#main-nav a").forEach(l => l.classList.toggle("active", l === link))
                    });
                });

                // --- Toggle Formulário de Contato ---
                const toggleBtn = document.getElementById('toggle-form');
                const emailForm = document.getElementById('email-form');
                toggleBtn.addEventListener('click', () => {
                    emailForm.classList.toggle('hidden');
                });

            } catch (error) {
                console.error("Erro ao inicializar o site:", error);
                document.body.classList.add('js-error');
            }
        });
    </script>
</body>
</html>
